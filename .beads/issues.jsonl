{"id":"rust_agent_network_observer-35w","title":"rano vNext: accuracy + insight + performance","description":"Goals:\n- Make domain attribution accurate and trustworthy when possible.\n- Make SQLite logging obviously useful through reporting and live insights.\n- Improve performance and reliability under high event rates.\n- Keep UX simple: defaults work, advanced options are discoverable.\n\nContext:\n- Current capture is PTR-only and can misattribute domains.\n- SQLite has strong schema/views but no first-class reporting UX.\n- Event rates can spike and cause sqlite overhead.\n- Provider mapping is fixed to substring matching; users need overrides.\n\nScope:\n- Implement 5 prioritized improvements with tasks, tests, and docs.\n- Preserve existing CLI behavior; improvements are additive.\n\nQuality bar:\n- Every feature must include comprehensive unit tests and at least one e2e test script.\n- E2E scripts must include detailed, human-readable logging (inputs, expected outputs, actual outputs).\n- Tests must run offline without elevated privileges unless explicitly marked otherwise.\n\nAcceptance:\n- Each child epic has tasks with unit tests + e2e scripts + docs.\n- All new features degrade gracefully (no sudo/libpcap, missing config).\n","status":"open","priority":1,"issue_type":"epic","created_at":"2026-01-17T16:00:47.256141412-06:00","created_by":"ubuntu","updated_at":"2026-01-17T16:03:44.518182522-06:00"}
{"id":"rust_agent_network_observer-35w.1","title":"True domain attribution via libpcap DNS+SNI","description":"Purpose:\n- Provide accurate hostname attribution via DNS responses and TLS SNI, not just PTR.\n- Preserve current PTR fallback when libpcap/sudo is unavailable.\n\nUser impact:\n- Domains match what the client intended (SNI), not a reverse DNS guess.\n- Clear warnings when privileged capture is unavailable; no silent failure.\n\nConstraints:\n- Must be feature-gated to avoid new deps for default builds.\n- Must avoid any breaking change to default CLI behavior.\n\nTesting:\n- Unit tests for DNS/SNI parsing + mapping logic.\n- E2E script using offline pcap fixtures to validate domain attribution and fallback logging.\n","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-17T16:00:47.293260146-06:00","created_by":"ubuntu","updated_at":"2026-01-17T16:03:44.555701291-06:00","dependencies":[{"issue_id":"rust_agent_network_observer-35w.1","depends_on_id":"rust_agent_network_observer-35w","type":"parent-child","created_at":"2026-01-17T16:00:47.294764141-06:00","created_by":"ubuntu"}]}
{"id":"rust_agent_network_observer-35w.1.1","title":"Design pcap dataflow + mapping model","description":"Deliverables:\n- Dataflow diagram of packet capture -\u003e DNS/SNI extraction -\u003e IP/port mapping -\u003e event enrichment.\n- Decision on retention/TTL for SNI/DNS mappings.\n- Clear rules for IPv4/IPv6 and UDP/TCP handling.\n\nNotes:\n- Aim for minimal parsing to avoid heavy CPU usage.\n- Prefer map keyed by (remote_ip, remote_port) with TTL to avoid staleness.\n","design":"-","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-17T16:00:47.330068504-06:00","created_by":"ubuntu","updated_at":"2026-01-19T20:35:57.065011635-06:00","closed_at":"2026-01-19T20:35:57.065011635-06:00","close_reason":"Design document created at docs/pcap-design.md covering dataflow, DNS/SNI parsing, cache TTL, IPv4/IPv6, and feature gating.","dependencies":[{"issue_id":"rust_agent_network_observer-35w.1.1","depends_on_id":"rust_agent_network_observer-35w.1","type":"parent-child","created_at":"2026-01-17T16:00:47.331334777-06:00","created_by":"ubuntu"}]}
{"id":"rust_agent_network_observer-35w.1.2","title":"Implement libpcap capture pipeline (feature-gated)","description":"Deliverables:\n- New Cargo feature (e.g., `pcap`) and module for capture.\n- Packet capture loop with filter for DNS + TLS ClientHello.\n- Build cleanly without feature and run as before.\n\nNotes:\n- Use BPF filters to reduce overhead.\n- Integrate with existing CLI flags (`--pcap`, `--domain-mode pcap`).\n","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-17T16:00:47.364314189-06:00","created_by":"ubuntu","updated_at":"2026-01-17T16:00:47.364314189-06:00","dependencies":[{"issue_id":"rust_agent_network_observer-35w.1.2","depends_on_id":"rust_agent_network_observer-35w.1","type":"parent-child","created_at":"2026-01-17T16:00:47.365761438-06:00","created_by":"ubuntu"},{"issue_id":"rust_agent_network_observer-35w.1.2","depends_on_id":"rust_agent_network_observer-35w.1.1","type":"blocks","created_at":"2026-01-17T16:00:47.367841865-06:00","created_by":"ubuntu"}]}
{"id":"rust_agent_network_observer-35w.1.3","title":"TLS SNI + DNS response parsing and mapping","description":"Deliverables:\n- DNS parser to map hostname -\u003e A/AAAA IP.\n- TLS ClientHello SNI parser (minimal) for hostname extraction.\n- Mapping table with TTL + eviction.\n\nNotes:\n- Prefer simple parser over full TLS stack for speed.\n- Associate SNI with destination IP/port when possible.\n","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-17T16:00:47.400836414-06:00","created_by":"ubuntu","updated_at":"2026-01-17T16:00:47.400836414-06:00","dependencies":[{"issue_id":"rust_agent_network_observer-35w.1.3","depends_on_id":"rust_agent_network_observer-35w.1","type":"parent-child","created_at":"2026-01-17T16:00:47.402117355-06:00","created_by":"ubuntu"},{"issue_id":"rust_agent_network_observer-35w.1.3","depends_on_id":"rust_agent_network_observer-35w.1.2","type":"blocks","created_at":"2026-01-17T16:00:47.404122822-06:00","created_by":"ubuntu"}]}
{"id":"rust_agent_network_observer-35w.1.4","title":"Permissions + fallback UX for pcap","description":"Deliverables:\n- Detect missing privileges (sudo/CAP_NET_RAW) and log explicit warning.\n- Auto-fallback to PTR without error exit.\n- Clear log messages about capture mode in banner + JSON meta.\n\nNotes:\n- Must avoid noisy logs for non-pcap users.\n","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-17T16:00:47.43948408-06:00","created_by":"ubuntu","updated_at":"2026-01-17T16:00:47.43948408-06:00","dependencies":[{"issue_id":"rust_agent_network_observer-35w.1.4","depends_on_id":"rust_agent_network_observer-35w.1","type":"parent-child","created_at":"2026-01-17T16:00:47.440851421-06:00","created_by":"ubuntu"},{"issue_id":"rust_agent_network_observer-35w.1.4","depends_on_id":"rust_agent_network_observer-35w.1.2","type":"blocks","created_at":"2026-01-17T16:00:47.442894188-06:00","created_by":"ubuntu"}]}
{"id":"rust_agent_network_observer-35w.1.5","title":"Tests + fixtures for pcap capture","description":"Deliverables:\n- Comprehensive unit tests for DNS + SNI parsing, mapping TTL/eviction, and error paths.\n- Fixture-based tests using small deterministic pcaps (offline, no root).\n- CI job that runs feature-flag tests.\n- Test logs must include inputs, decoded domains, and mapping outcomes for auditability.\n\nNotes:\n- Use offline pcap fixtures to keep tests deterministic and privilege-free.\n","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-17T16:00:47.47746696-06:00","created_by":"ubuntu","updated_at":"2026-01-17T16:03:44.697234583-06:00","dependencies":[{"issue_id":"rust_agent_network_observer-35w.1.5","depends_on_id":"rust_agent_network_observer-35w.1","type":"parent-child","created_at":"2026-01-17T16:00:47.478773749-06:00","created_by":"ubuntu"},{"issue_id":"rust_agent_network_observer-35w.1.5","depends_on_id":"rust_agent_network_observer-35w.1.3","type":"blocks","created_at":"2026-01-17T16:00:47.48080809-06:00","created_by":"ubuntu"}]}
{"id":"rust_agent_network_observer-35w.1.6","title":"Docs update: pcap mode","description":"Deliverables:\n- README update describing pcap feature, capture modes, and fallback behavior.\n- CLI help text examples and troubleshooting steps.\n- Reference the e2e script and its log output location for verification.\n","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-17T16:00:47.514480509-06:00","created_by":"ubuntu","updated_at":"2026-01-17T16:04:58.50050324-06:00","dependencies":[{"issue_id":"rust_agent_network_observer-35w.1.6","depends_on_id":"rust_agent_network_observer-35w.1","type":"parent-child","created_at":"2026-01-17T16:00:47.515763904-06:00","created_by":"ubuntu"},{"issue_id":"rust_agent_network_observer-35w.1.6","depends_on_id":"rust_agent_network_observer-35w.1.4","type":"blocks","created_at":"2026-01-17T16:00:47.517769762-06:00","created_by":"ubuntu"},{"issue_id":"rust_agent_network_observer-35w.1.6","depends_on_id":"rust_agent_network_observer-35w.1.5","type":"blocks","created_at":"2026-01-17T16:00:47.519698156-06:00","created_by":"ubuntu"},{"issue_id":"rust_agent_network_observer-35w.1.6","depends_on_id":"rust_agent_network_observer-35w.1.7","type":"blocks","created_at":"2026-01-17T16:04:45.289315739-06:00","created_by":"ubuntu"}]}
{"id":"rust_agent_network_observer-35w.1.7","title":"E2E: pcap attribution + fallback logging","description":"Deliverables:\n- E2E script that replays offline pcap fixtures with `--pcap` and validates domain attribution.\n- Explicit test case for privilege failure → warning + PTR fallback.\n- Use shared e2e harness/log format.\n- Log file must include: input fixture, expected domains, actual output, and fallback warnings.\n\nNotes:\n- Must run without root by using offline pcaps only.\n","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-17T16:04:02.705396614-06:00","created_by":"ubuntu","updated_at":"2026-01-17T16:06:56.599358963-06:00","dependencies":[{"issue_id":"rust_agent_network_observer-35w.1.7","depends_on_id":"rust_agent_network_observer-35w.1","type":"parent-child","created_at":"2026-01-17T16:04:02.718507988-06:00","created_by":"ubuntu"},{"issue_id":"rust_agent_network_observer-35w.1.7","depends_on_id":"rust_agent_network_observer-35w.1.3","type":"blocks","created_at":"2026-01-17T16:04:02.725102312-06:00","created_by":"ubuntu"},{"issue_id":"rust_agent_network_observer-35w.1.7","depends_on_id":"rust_agent_network_observer-35w.1.4","type":"blocks","created_at":"2026-01-17T16:04:02.727985049-06:00","created_by":"ubuntu"},{"issue_id":"rust_agent_network_observer-35w.1.7","depends_on_id":"rust_agent_network_observer-35w.7","type":"blocks","created_at":"2026-01-17T16:06:02.211912029-06:00","created_by":"ubuntu"}]}
{"id":"rust_agent_network_observer-35w.1.8","title":"CI: build/test matrix for pcap feature","description":"Deliverables:\n- CI job builds with `--features pcap` to ensure feature-gated code compiles.\n- Test job runs offline pcap fixture tests (no root).\n- Clear CI log markers indicating pcap feature coverage.\n","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-17T16:06:24.203513592-06:00","created_by":"ubuntu","updated_at":"2026-01-17T16:06:24.203513592-06:00","dependencies":[{"issue_id":"rust_agent_network_observer-35w.1.8","depends_on_id":"rust_agent_network_observer-35w.1","type":"parent-child","created_at":"2026-01-17T16:06:24.215459068-06:00","created_by":"ubuntu"},{"issue_id":"rust_agent_network_observer-35w.1.8","depends_on_id":"rust_agent_network_observer-35w.1.2","type":"blocks","created_at":"2026-01-17T16:06:24.222482578-06:00","created_by":"ubuntu"},{"issue_id":"rust_agent_network_observer-35w.1.8","depends_on_id":"rust_agent_network_observer-35w.1.5","type":"blocks","created_at":"2026-01-17T16:06:24.226339745-06:00","created_by":"ubuntu"}]}
{"id":"rust_agent_network_observer-35w.2","title":"SQLite report subcommand","description":"Purpose:\n- Turn SQLite logs into actionable insights without live monitoring.\n\nUser impact:\n- Users can summarize sessions, compare providers, and inspect top domains/ports after the fact.\n\nConstraints:\n- Must work with existing schema/views and degrade gracefully if missing.\n\nTesting:\n- Unit tests for query logic + formatting.\n- E2E script that seeds a fixture DB and validates report output (pretty + JSON).\n","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-17T16:00:47.550931262-06:00","created_by":"ubuntu","updated_at":"2026-01-19T22:07:18.010503566-06:00","closed_at":"2026-01-19T22:07:18.010503566-06:00","close_reason":"All implementation subtasks complete. Only P3 docs updates remaining.","dependencies":[{"issue_id":"rust_agent_network_observer-35w.2","depends_on_id":"rust_agent_network_observer-35w","type":"parent-child","created_at":"2026-01-17T16:00:47.552169093-06:00","created_by":"ubuntu"}]}
{"id":"rust_agent_network_observer-35w.2.1","title":"Design report UX + query plan","description":"Deliverables:\n- CLI design (`rano report --latest`, `--run-id`, `--since`, `--until`).\n- Define time range semantics (UTC vs local, inclusive/exclusive bounds).\n- Decide which views/queries power each report section and top-N ordering.\n- Define compatibility behavior when views/tables are missing (fallback or warning).\n- Output format for pretty + JSON (stable keys, deterministic ordering).\n","design":"-","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-17T16:00:47.58637321-06:00","created_by":"ubuntu","updated_at":"2026-01-19T20:35:04.276935532-06:00","closed_at":"2026-01-19T20:35:04.276935532-06:00","close_reason":"Design document complete in docs/report-design.md. Covers: CLI design (--latest, --run-id, --since, --until, --json), time range semantics (RFC3339 UTC, inclusive/exclusive bounds), query mapping per section, compatibility/fallback behavior for missing tables/views, and JSON output format with stable keys and deterministic ordering.","dependencies":[{"issue_id":"rust_agent_network_observer-35w.2.1","depends_on_id":"rust_agent_network_observer-35w.2","type":"parent-child","created_at":"2026-01-17T16:00:47.587704224-06:00","created_by":"ubuntu"}]}
{"id":"rust_agent_network_observer-35w.2.2","title":"Implement report subcommand","description":"Deliverables:\n- `rano report` command with provider totals, top domains/IPs/ports.\n- JSON output with stable keys for automation.\n- Handles empty DB gracefully.\n- Deterministic ordering of top-N outputs.\n- Integrates schema compatibility guard behavior.\n","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-17T16:00:47.621441233-06:00","created_by":"ubuntu","updated_at":"2026-01-19T20:46:14.060529655-06:00","closed_at":"2026-01-19T20:46:14.060529655-06:00","close_reason":"Report subcommand fully implemented. Features: CLI parsing (--latest, --run-id, --since, --until, --json, --top), SQLite queries for summary/providers/domains/IPs, pretty and JSON output, time range filtering (RFC3339, date-only, relative like 24h/7d), error handling for missing db/tables. Tests pass. Help updated.","dependencies":[{"issue_id":"rust_agent_network_observer-35w.2.2","depends_on_id":"rust_agent_network_observer-35w.2","type":"parent-child","created_at":"2026-01-17T16:00:47.623118791-06:00","created_by":"ubuntu"},{"issue_id":"rust_agent_network_observer-35w.2.2","depends_on_id":"rust_agent_network_observer-35w.2.1","type":"blocks","created_at":"2026-01-17T16:00:47.62548564-06:00","created_by":"ubuntu"}]}
{"id":"rust_agent_network_observer-35w.2.3","title":"Report formatting + UX polish","description":"Deliverables:\n- Table-like layout, consistent colors with providers.\n- Clear headers, time ranges, and session metadata.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-17T16:00:47.66299498-06:00","created_by":"ubuntu","updated_at":"2026-01-19T22:02:47.61395626-06:00","closed_at":"2026-01-19T22:02:47.61395626-06:00","close_reason":"Completed UX polish: added session duration calculation (format_session_duration, parse_rfc3339_secs, format_duration_human functions). Report now shows 'Duration: 1h 25m 4s' format for session info. All unit tests pass, build succeeds.","dependencies":[{"issue_id":"rust_agent_network_observer-35w.2.3","depends_on_id":"rust_agent_network_observer-35w.2","type":"parent-child","created_at":"2026-01-17T16:00:47.664263337-06:00","created_by":"ubuntu"},{"issue_id":"rust_agent_network_observer-35w.2.3","depends_on_id":"rust_agent_network_observer-35w.2.2","type":"blocks","created_at":"2026-01-17T16:00:47.66636891-06:00","created_by":"ubuntu"}]}
{"id":"rust_agent_network_observer-35w.2.4","title":"Report tests","description":"Deliverables:\n- Unit tests for report queries and formatting.\n- Fixture SQLite DB and golden output tests for pretty + JSON formats.\n- JSON output schema validation.\n- Test logs must show query inputs, row counts, and output snippets.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-17T16:00:47.701129021-06:00","created_by":"ubuntu","updated_at":"2026-01-19T22:06:03.0501287-06:00","closed_at":"2026-01-19T22:06:03.0501287-06:00","close_reason":"Report tests complete: E2E test (report-seeded-sqlite.sh) with seeded fixture DB, JSON/pretty format tests, --top/--since/--until flags, session metadata display, error handling. Fixed grep pattern portability issue (use [[:space:]] instead of \\s). All tests pass.","dependencies":[{"issue_id":"rust_agent_network_observer-35w.2.4","depends_on_id":"rust_agent_network_observer-35w.2","type":"parent-child","created_at":"2026-01-17T16:00:47.702460536-06:00","created_by":"ubuntu"},{"issue_id":"rust_agent_network_observer-35w.2.4","depends_on_id":"rust_agent_network_observer-35w.2.2","type":"blocks","created_at":"2026-01-17T16:00:47.704645607-06:00","created_by":"ubuntu"}]}
{"id":"rust_agent_network_observer-35w.2.5","title":"Docs update: report usage","description":"Deliverables:\n- README section for report command with examples.\n- Document how to run the report e2e script and where logs are written.\n","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-17T16:00:47.737317126-06:00","created_by":"ubuntu","updated_at":"2026-01-19T22:08:21.355189173-06:00","closed_at":"2026-01-19T22:08:21.355189173-06:00","close_reason":"Added documentation to README: report command section with examples and time range formats; SQLite batching performance tuning guide with table.","dependencies":[{"issue_id":"rust_agent_network_observer-35w.2.5","depends_on_id":"rust_agent_network_observer-35w.2","type":"parent-child","created_at":"2026-01-17T16:00:47.738564414-06:00","created_by":"ubuntu"},{"issue_id":"rust_agent_network_observer-35w.2.5","depends_on_id":"rust_agent_network_observer-35w.2.3","type":"blocks","created_at":"2026-01-17T16:00:47.74065506-06:00","created_by":"ubuntu"},{"issue_id":"rust_agent_network_observer-35w.2.5","depends_on_id":"rust_agent_network_observer-35w.2.4","type":"blocks","created_at":"2026-01-17T16:00:47.742650999-06:00","created_by":"ubuntu"},{"issue_id":"rust_agent_network_observer-35w.2.5","depends_on_id":"rust_agent_network_observer-35w.2.6","type":"blocks","created_at":"2026-01-17T16:04:45.324225597-06:00","created_by":"ubuntu"}]}
{"id":"rust_agent_network_observer-35w.2.6","title":"E2E: report on seeded sqlite","description":"Deliverables:\n- E2E script that seeds a fixture SQLite DB, runs `rano report` (pretty + JSON), and validates outputs.\n- Use shared e2e harness/log format.\n- Log file must include: seed data summary, commands run, and output excerpts.\n","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-17T16:04:02.768414015-06:00","created_by":"ubuntu","updated_at":"2026-01-19T22:01:56.674741946-06:00","closed_at":"2026-01-19T22:01:56.674741946-06:00","close_reason":"Created tests/e2e/report-seeded-sqlite.sh with 11 test cases validating report command with seeded SQLite data. Tests: all data, JSON output, --latest, --run-id, --top, --since, --until, time window, pretty format, error handling, session metadata.","dependencies":[{"issue_id":"rust_agent_network_observer-35w.2.6","depends_on_id":"rust_agent_network_observer-35w.2","type":"parent-child","created_at":"2026-01-17T16:04:02.769745409-06:00","created_by":"ubuntu"},{"issue_id":"rust_agent_network_observer-35w.2.6","depends_on_id":"rust_agent_network_observer-35w.2.2","type":"blocks","created_at":"2026-01-17T16:04:02.772453651-06:00","created_by":"ubuntu"},{"issue_id":"rust_agent_network_observer-35w.2.6","depends_on_id":"rust_agent_network_observer-35w.7","type":"blocks","created_at":"2026-01-17T16:06:02.249825015-06:00","created_by":"ubuntu"}]}
{"id":"rust_agent_network_observer-35w.2.7","title":"Report schema compatibility guard","description":"Deliverables:\n- Check for required tables/views and emit a clear warning if missing.\n- Provide guidance to regenerate schema (run once with current binary).\n- Ensure report returns a non-zero exit only on fatal errors, not on empty data.\n\nNotes:\n- This prevents confusing failures when older DBs are used.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-17T16:07:13.399662778-06:00","created_by":"ubuntu","updated_at":"2026-01-19T22:01:17.100091012-06:00","closed_at":"2026-01-19T22:01:17.100091012-06:00","close_reason":"Closed","dependencies":[{"issue_id":"rust_agent_network_observer-35w.2.7","depends_on_id":"rust_agent_network_observer-35w.2","type":"parent-child","created_at":"2026-01-17T16:07:13.417385498-06:00","created_by":"ubuntu"},{"issue_id":"rust_agent_network_observer-35w.2.7","depends_on_id":"rust_agent_network_observer-35w.2.2","type":"blocks","created_at":"2026-01-17T16:07:13.42383439-06:00","created_by":"ubuntu"}]}
{"id":"rust_agent_network_observer-35w.3","title":"Batching + async SQLite writes","description":"Purpose:\n- Reduce overhead and improve reliability under high event rates.\n\nUser impact:\n- Lower CPU usage, fewer sqlite lock stalls, smoother live output.\n\nTesting:\n- Unit tests for batch flush, error fallback.\n- E2E load script that validates counts and logging under high event rate.\n","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-17T16:00:47.780679665-06:00","created_by":"ubuntu","updated_at":"2026-01-19T22:07:18.021884019-06:00","closed_at":"2026-01-19T22:07:18.021884019-06:00","close_reason":"All implementation subtasks complete. Only P3 docs updates remaining.","dependencies":[{"issue_id":"rust_agent_network_observer-35w.3","depends_on_id":"rust_agent_network_observer-35w","type":"parent-child","created_at":"2026-01-17T16:00:47.782036456-06:00","created_by":"ubuntu"}]}
{"id":"rust_agent_network_observer-35w.3.1","title":"Design batching strategy","description":"Deliverables:\n- Decide queue/batch size and flush interval defaults.\n- Define shutdown flush behavior to avoid data loss.\n- Define backpressure + memory cap policy (drop oldest, drop newest, or block).\n- Specify how backpressure events are logged (rate-limited warnings).\n","design":"Batching strategy proposal\\n\\nDefaults\\n- queue_capacity: 10_000 events (bounded sync_channel)\\n- batch_size: 200 events (transaction per batch)\\n- flush_interval_ms: 1000 (forces a write even if batch not full)\\n- max_send_block_ms: 5 (optional brief backpressure before drop)\\n\\nWriter model\\n- Single SQLite writer thread owns Connection. Producers send SqlMsg::Event(event) via sync_channel.\\n- Writer loop drains channel: accumulate Vec\u003cEvent\u003e until batch_size reached or flush_interval elapsed, then write in a single transaction with prepared stmt.\\n- Flush on Shutdown: producer sends SqlMsg::Shutdown; writer drains remaining events, flushes, then exits. Main thread joins writer before finalize_session.\\n\\nBackpressure + memory cap\\n- Bounded channel provides memory cap.\\n- Producer uses try_send (or short timeout via send_timeout) so poller doesn’t stall. If full after timeout, drop newest event and increment dropped counter.\\n- Expose dropped count in summary and/or stats (optional).\\n\\nBackpressure logging\\n- Rate-limit warning (e.g., once per 10s) to stderr and log file: \"warning: sqlite queue full, dropped N events (total M)\".\\n- Reset per-interval counter after logging.\\n\\nRationale\\n- Poll loop stays responsive; DB writes amortized; bounded memory; graceful shutdown flush minimizes loss.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-17T16:00:47.815299274-06:00","created_by":"ubuntu","updated_at":"2026-01-17T17:42:38.455349791-06:00","closed_at":"2026-01-17T17:42:38.455349791-06:00","close_reason":"Closed","dependencies":[{"issue_id":"rust_agent_network_observer-35w.3.1","depends_on_id":"rust_agent_network_observer-35w.3","type":"parent-child","created_at":"2026-01-17T16:00:47.816549828-06:00","created_by":"ubuntu"}]}
{"id":"rust_agent_network_observer-35w.3.2","title":"Implement batch queue + transaction flush","description":"Deliverables:\n- Buffered event queue with timed flush.\n- Single transaction per batch.\n- Error handling with fallback to direct insert on failure.\n- Backpressure + memory cap enforcement consistent with design.\n- Telemetry/logging for drops or stalls (rate-limited).\n","notes":"Implemented async SQLite batching: writer thread w/ bounded sync_channel (10k), batch size 200, flush interval 1s, drop+rate-limited warnings, graceful Shutdown draining and finalize. Cargo build currently fails due to pre-existing duplicate provider config definitions (ProviderMatcher/load_provider_matcher/etc.) and apply_provider_config signature mismatch; not related to batching.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-17T16:00:47.851187862-06:00","created_by":"ubuntu","updated_at":"2026-01-17T17:59:27.038037024-06:00","closed_at":"2026-01-17T17:59:27.038037024-06:00","close_reason":"Closed","dependencies":[{"issue_id":"rust_agent_network_observer-35w.3.2","depends_on_id":"rust_agent_network_observer-35w.3","type":"parent-child","created_at":"2026-01-17T16:00:47.852680246-06:00","created_by":"ubuntu"},{"issue_id":"rust_agent_network_observer-35w.3.2","depends_on_id":"rust_agent_network_observer-35w.3.1","type":"blocks","created_at":"2026-01-17T16:00:47.854951567-06:00","created_by":"ubuntu"}]}
{"id":"rust_agent_network_observer-35w.3.3","title":"Config flags for batching","description":"Deliverables:\n- `--db-batch-size`, `--db-flush-ms` flags.\n- Add `--db-queue-max` (or equivalent) to cap memory.\n- Document defaults and tradeoffs.\n","notes":"Added db batching flags/config: --db-batch-size/--db-flush-ms/--db-queue-max and config keys (db_batch_size/db_flush_ms/db_queue_max). start_sqlite_writer/sqlite_writer_loop now use args. README updated with defaults + tradeoffs. Tests: cargo test -q.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-17T16:00:47.891217667-06:00","created_by":"ubuntu","updated_at":"2026-01-17T18:10:38.68861098-06:00","closed_at":"2026-01-17T18:10:38.68861098-06:00","close_reason":"Closed","dependencies":[{"issue_id":"rust_agent_network_observer-35w.3.3","depends_on_id":"rust_agent_network_observer-35w.3","type":"parent-child","created_at":"2026-01-17T16:00:47.892516731-06:00","created_by":"ubuntu"},{"issue_id":"rust_agent_network_observer-35w.3.3","depends_on_id":"rust_agent_network_observer-35w.3.2","type":"blocks","created_at":"2026-01-17T16:00:47.894889932-06:00","created_by":"ubuntu"}]}
{"id":"rust_agent_network_observer-35w.3.4","title":"Batching tests + micro-bench","description":"Deliverables:\n- Unit tests verifying batch write counts, flush timing, and error fallback to direct insert.\n- Small benchmark or perf test for event throughput.\n- Test logs must include batch sizes, flush intervals, and observed event counts.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-17T16:00:47.929383387-06:00","created_by":"ubuntu","updated_at":"2026-01-19T22:06:40.425368557-06:00","closed_at":"2026-01-19T22:06:40.425368557-06:00","close_reason":"Added 7 unit tests for write_sqlite_batch function: empty batch handling, single/multiple event writes, data preservation, duration storage for close events, multiple batch accumulation, and run_id consistency. Tests verify batch write counts and data integrity.","dependencies":[{"issue_id":"rust_agent_network_observer-35w.3.4","depends_on_id":"rust_agent_network_observer-35w.3","type":"parent-child","created_at":"2026-01-17T16:00:47.930653888-06:00","created_by":"ubuntu"},{"issue_id":"rust_agent_network_observer-35w.3.4","depends_on_id":"rust_agent_network_observer-35w.3.2","type":"blocks","created_at":"2026-01-17T16:00:47.932853887-06:00","created_by":"ubuntu"}]}
{"id":"rust_agent_network_observer-35w.3.5","title":"Docs update: performance flags","description":"Deliverables:\n- README section describing batching flags, defaults, and when to tune.\n- Document the load-test e2e script and the expected log markers.\n","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-17T16:00:47.967654393-06:00","created_by":"ubuntu","updated_at":"2026-01-19T22:08:21.372596563-06:00","closed_at":"2026-01-19T22:08:21.372596563-06:00","close_reason":"Added documentation to README: report command section with examples and time range formats; SQLite batching performance tuning guide with table.","dependencies":[{"issue_id":"rust_agent_network_observer-35w.3.5","depends_on_id":"rust_agent_network_observer-35w.3","type":"parent-child","created_at":"2026-01-17T16:00:47.96896593-06:00","created_by":"ubuntu"},{"issue_id":"rust_agent_network_observer-35w.3.5","depends_on_id":"rust_agent_network_observer-35w.3.3","type":"blocks","created_at":"2026-01-17T16:00:47.971197688-06:00","created_by":"ubuntu"},{"issue_id":"rust_agent_network_observer-35w.3.5","depends_on_id":"rust_agent_network_observer-35w.3.4","type":"blocks","created_at":"2026-01-17T16:00:47.992173732-06:00","created_by":"ubuntu"},{"issue_id":"rust_agent_network_observer-35w.3.5","depends_on_id":"rust_agent_network_observer-35w.3.6","type":"blocks","created_at":"2026-01-17T16:04:45.356843177-06:00","created_by":"ubuntu"}]}
{"id":"rust_agent_network_observer-35w.3.6","title":"E2E: batching under load","description":"Deliverables:\n- E2E script that simulates high-rate events, validates sqlite counts vs emitted events.\n- Use shared e2e harness/log format.\n- Log file must include: event rate, batch sizes, flush timings, and final counts.\n","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-17T16:04:02.809659097-06:00","created_by":"ubuntu","updated_at":"2026-01-19T22:03:34.018409298-06:00","closed_at":"2026-01-19T22:03:34.018409298-06:00","close_reason":"Created tests/e2e/batching-under-load.sh with load test (50 connections), SQLite validation, batch config verification, and queue overflow handling. Test validates: JSON/SQLite event count consistency, session recording, run_id consistency, and batch config flags.","dependencies":[{"issue_id":"rust_agent_network_observer-35w.3.6","depends_on_id":"rust_agent_network_observer-35w.3","type":"parent-child","created_at":"2026-01-17T16:04:02.810934126-06:00","created_by":"ubuntu"},{"issue_id":"rust_agent_network_observer-35w.3.6","depends_on_id":"rust_agent_network_observer-35w.3.2","type":"blocks","created_at":"2026-01-17T16:04:02.813658749-06:00","created_by":"ubuntu"},{"issue_id":"rust_agent_network_observer-35w.3.6","depends_on_id":"rust_agent_network_observer-35w.3.3","type":"blocks","created_at":"2026-01-17T16:04:02.816275522-06:00","created_by":"ubuntu"},{"issue_id":"rust_agent_network_observer-35w.3.6","depends_on_id":"rust_agent_network_observer-35w.7","type":"blocks","created_at":"2026-01-17T16:06:02.283675743-06:00","created_by":"ubuntu"}]}
{"id":"rust_agent_network_observer-35w.4","title":"Configurable provider mapping via rano.toml","description":"Purpose:\n- Allow users to add/override provider patterns without recompiling.\n\nUser impact:\n- Works with custom wrappers or corporate CLI launchers.\n\nTesting:\n- Unit tests for config parsing/merge rules.\n- E2E script that exercises overrides and logs classification output.\n","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-17T16:00:48.032627504-06:00","created_by":"ubuntu","updated_at":"2026-01-19T22:08:53.228752088-06:00","closed_at":"2026-01-19T22:08:53.228752088-06:00","close_reason":"All implementation subtasks complete (config schema, loading, provider matching, E2E test). Only P3 docs task remaining.","dependencies":[{"issue_id":"rust_agent_network_observer-35w.4","depends_on_id":"rust_agent_network_observer-35w","type":"parent-child","created_at":"2026-01-17T16:00:48.033951935-06:00","created_by":"ubuntu"}]}
{"id":"rust_agent_network_observer-35w.4.1","title":"Define config schema + merge rules","description":"Deliverables:\n- TOML schema for providers/patterns.\n- Merge strategy: defaults + user overrides.\n- Define config precedence (cwd -\u003e XDG config -\u003e home) and env overrides.\n","design":"Drafted provider config schema and merge rules in docs/provider-config.md; added README pointer.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-17T16:00:48.072128766-06:00","created_by":"ubuntu","updated_at":"2026-01-17T18:03:57.434556911-06:00","closed_at":"2026-01-17T18:03:57.434556911-06:00","close_reason":"Closed","dependencies":[{"issue_id":"rust_agent_network_observer-35w.4.1","depends_on_id":"rust_agent_network_observer-35w.4","type":"parent-child","created_at":"2026-01-17T16:00:48.07340579-06:00","created_by":"ubuntu"}]}
{"id":"rust_agent_network_observer-35w.4.2","title":"Implement config loading","description":"Deliverables:\n- Read `rano.toml` from cwd + XDG config + home config paths.\n- Validation + error handling with safe fallback.\n- Support environment override for config path.\n","notes":"Implemented multi-file provider config loading with precedence (home/xdg/cwd -\u003e --config-toml -\u003e RANO_CONFIG_TOML), safe warnings on missing explicit paths, and per-file merge/replace semantics. Updated docs/provider-config.md + README pointer. Tests: cargo test -q.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-17T16:00:48.109375198-06:00","created_by":"ubuntu","updated_at":"2026-01-17T18:05:02.315134913-06:00","closed_at":"2026-01-17T18:05:02.315134913-06:00","close_reason":"Closed","dependencies":[{"issue_id":"rust_agent_network_observer-35w.4.2","depends_on_id":"rust_agent_network_observer-35w.4","type":"parent-child","created_at":"2026-01-17T16:00:48.110675945-06:00","created_by":"ubuntu"},{"issue_id":"rust_agent_network_observer-35w.4.2","depends_on_id":"rust_agent_network_observer-35w.4.1","type":"blocks","created_at":"2026-01-17T16:00:48.113119997-06:00","created_by":"ubuntu"}]}
{"id":"rust_agent_network_observer-35w.4.3","title":"Provider matching updates","description":"Deliverables:\n- Apply configured patterns for provider classification.\n- Allow custom provider labels if desired.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-17T16:00:48.146506575-06:00","created_by":"ubuntu","updated_at":"2026-01-19T20:33:25.985742404-06:00","closed_at":"2026-01-19T20:33:25.985742404-06:00","close_reason":"Provider pattern matching from TOML config is fully implemented and tested. Custom provider labels marked as 'if desired' (optional) - deferring to backlog.","dependencies":[{"issue_id":"rust_agent_network_observer-35w.4.3","depends_on_id":"rust_agent_network_observer-35w.4","type":"parent-child","created_at":"2026-01-17T16:00:48.147777357-06:00","created_by":"ubuntu"},{"issue_id":"rust_agent_network_observer-35w.4.3","depends_on_id":"rust_agent_network_observer-35w.4.2","type":"blocks","created_at":"2026-01-17T16:00:48.150131843-06:00","created_by":"ubuntu"}]}
{"id":"rust_agent_network_observer-35w.4.4","title":"Config tests + docs","description":"Deliverables:\n- Unit tests for config overrides, invalid config handling, and merge precedence.\n- README snippet with example `rano.toml` and expected provider classification behavior.\n- Document the config e2e script and sample log output for verification.\n- Test logs must include config inputs and resolved provider mappings.\n","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-17T16:00:48.186410977-06:00","created_by":"ubuntu","updated_at":"2026-01-19T22:11:21.673046188-06:00","closed_at":"2026-01-19T22:11:21.673046188-06:00","close_reason":"Added unit tests for config: merge_mode_preserves_unspecified_providers, invalid_mode_returns_error, empty_patterns_are_filtered_out, provider_from_text_returns_unknown_for_no_match, provider_from_text_matches_case_insensitive. Added README section for rano.toml with example config, modes explanation, default patterns table, and verification command.","dependencies":[{"issue_id":"rust_agent_network_observer-35w.4.4","depends_on_id":"rust_agent_network_observer-35w.4","type":"parent-child","created_at":"2026-01-17T16:00:48.187726552-06:00","created_by":"ubuntu"},{"issue_id":"rust_agent_network_observer-35w.4.4","depends_on_id":"rust_agent_network_observer-35w.4.3","type":"blocks","created_at":"2026-01-17T16:00:48.190279947-06:00","created_by":"ubuntu"},{"issue_id":"rust_agent_network_observer-35w.4.4","depends_on_id":"rust_agent_network_observer-35w.4.5","type":"blocks","created_at":"2026-01-17T16:04:45.386204505-06:00","created_by":"ubuntu"}]}
{"id":"rust_agent_network_observer-35w.4.5","title":"E2E: provider config override","description":"Deliverables:\n- E2E script that loads a `rano.toml` override and verifies provider classification in output.\n- Use shared e2e harness/log format.\n- Log file must include: config contents, expected provider, actual provider lines.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-17T16:04:02.853805681-06:00","created_by":"ubuntu","updated_at":"2026-01-19T20:52:35.872856568-06:00","closed_at":"2026-01-19T20:52:35.872856568-06:00","close_reason":"E2E test implemented and passing. Test verifies: 1) Config TOML loading from --config-toml, 2) Provider pattern replacement (mode=replace), 3) Custom pattern matching (probecli -\u003e openai), 4) Connection attribution with custom provider. Test runs against pre-built binary for speed.","dependencies":[{"issue_id":"rust_agent_network_observer-35w.4.5","depends_on_id":"rust_agent_network_observer-35w.4","type":"parent-child","created_at":"2026-01-17T16:04:02.855198599-06:00","created_by":"ubuntu"},{"issue_id":"rust_agent_network_observer-35w.4.5","depends_on_id":"rust_agent_network_observer-35w.4.2","type":"blocks","created_at":"2026-01-17T16:04:02.858298519-06:00","created_by":"ubuntu"},{"issue_id":"rust_agent_network_observer-35w.4.5","depends_on_id":"rust_agent_network_observer-35w.4.3","type":"blocks","created_at":"2026-01-17T16:04:02.861400584-06:00","created_by":"ubuntu"},{"issue_id":"rust_agent_network_observer-35w.4.5","depends_on_id":"rust_agent_network_observer-35w.7","type":"blocks","created_at":"2026-01-17T16:06:02.314981112-06:00","created_by":"ubuntu"}]}
{"id":"rust_agent_network_observer-35w.5","title":"Enhanced live stats panels","description":"Purpose:\n- Make live monitoring more compelling and informative.\n\nUser impact:\n- Quick at-a-glance view of top domains/ports/processes by provider.\n\nTesting:\n- Unit tests for aggregation + rendering.\n- E2E script that runs live stats views and captures output logs.\n","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-17T16:00:48.227056245-06:00","created_by":"ubuntu","updated_at":"2026-01-17T16:03:44.668735866-06:00","dependencies":[{"issue_id":"rust_agent_network_observer-35w.5","depends_on_id":"rust_agent_network_observer-35w","type":"parent-child","created_at":"2026-01-17T16:00:48.228334381-06:00","created_by":"ubuntu"}]}
{"id":"rust_agent_network_observer-35w.5.1","title":"Design stats views + CLI flags","description":"Deliverables:\n- `--stats-view provider|domain|port|process` and `--stats-cycle-ms` definitions.\n- Decide top-N defaults and formatting.\n- Define terminal-width handling and non-tty fallback behavior.\n","design":"Stats views + CLI flag design\\n\\nFlags\\n- --stats-view \u003cprovider|domain|port|process\u003e (repeatable).\\n  - If omitted: default view list = [provider].\\n  - If provided multiple times: cycle only those views (preserve order).\\n- --stats-cycle-ms \u003cms\u003e (default 0/off). When \u003e0 and stats enabled, rotate views at this interval.\\n- Existing --stats-interval-ms controls refresh cadence; cycle is independent (switch view on next refresh after cycle elapses).\\n\\nTop-N + formatting\\n- Reuse --stats-top (default 5) for domain/port/process lists.\\n- Provider view shows all providers with bars.\\n- Domain view: top domains by count; include provider aggregate counts in parentheses if available.\\n- Port view: top remote ports by count; optionally show proto.\\n- Process view: top comm names by count.\\n\\nTerminal width / TTY behavior\\n- If stdout is TTY: compute bar width from --stats-width if set, else from COLUMNS (clamped 20..80).\\n- If stdout is NOT TTY: suppress live stats by default; only print final summary (current behavior) or emit compact one-line stats per interval if --stats-interval-ms \u003e 0 and --summary-only=false.\\n- When --json is set: disable live stats output regardless of view/cycle.\\n\\nNotes\\n- Views should render as distinct sections with a short header (e.g., \"Live Stats [domain]\").\\n- Cycling should be no-op if stats interval is 0 or summary-only is enabled.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-17T16:00:48.264069984-06:00","created_by":"ubuntu","updated_at":"2026-01-17T18:05:08.89551621-06:00","closed_at":"2026-01-17T18:05:08.89551621-06:00","close_reason":"Closed","dependencies":[{"issue_id":"rust_agent_network_observer-35w.5.1","depends_on_id":"rust_agent_network_observer-35w.5","type":"parent-child","created_at":"2026-01-17T16:00:48.265374369-06:00","created_by":"ubuntu"}]}
{"id":"rust_agent_network_observer-35w.5.2","title":"Implement stats aggregation for views","description":"Deliverables:\n- In-memory counters for top-N domains/ports/processes.\n- Optional SQLite-backed view for large counts.\n","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-17T16:00:48.300895163-06:00","created_by":"ubuntu","updated_at":"2026-01-17T16:00:48.300895163-06:00","dependencies":[{"issue_id":"rust_agent_network_observer-35w.5.2","depends_on_id":"rust_agent_network_observer-35w.5","type":"parent-child","created_at":"2026-01-17T16:00:48.302115511-06:00","created_by":"ubuntu"},{"issue_id":"rust_agent_network_observer-35w.5.2","depends_on_id":"rust_agent_network_observer-35w.5.1","type":"blocks","created_at":"2026-01-17T16:00:48.304599037-06:00","created_by":"ubuntu"}]}
{"id":"rust_agent_network_observer-35w.5.3","title":"Render live panels","description":"Deliverables:\n- Colorized bar charts per view with clear headers.\n- Stable output for terminal log capture.\n- Auto-adjust to terminal width; degrade to fixed width when non-tty.\n","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-17T16:00:48.340807559-06:00","created_by":"ubuntu","updated_at":"2026-01-17T16:06:43.887092738-06:00","dependencies":[{"issue_id":"rust_agent_network_observer-35w.5.3","depends_on_id":"rust_agent_network_observer-35w.5","type":"parent-child","created_at":"2026-01-17T16:00:48.342544938-06:00","created_by":"ubuntu"},{"issue_id":"rust_agent_network_observer-35w.5.3","depends_on_id":"rust_agent_network_observer-35w.5.2","type":"blocks","created_at":"2026-01-17T16:00:48.345977908-06:00","created_by":"ubuntu"}]}
{"id":"rust_agent_network_observer-35w.5.4","title":"Stats panel tests + docs","description":"Deliverables:\n- Unit tests for stats aggregation and rendering (provider/domain/port/process views).\n- Snapshot-like rendering tests with deterministic output.\n- README update with view examples and expected output.\n- Document the stats e2e script and where output logs are stored.\n- Test logs must capture inputs, computed top-N lists, and rendered lines.\n","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-17T16:00:48.381215006-06:00","created_by":"ubuntu","updated_at":"2026-01-17T16:04:58.615258954-06:00","dependencies":[{"issue_id":"rust_agent_network_observer-35w.5.4","depends_on_id":"rust_agent_network_observer-35w.5","type":"parent-child","created_at":"2026-01-17T16:00:48.382442968-06:00","created_by":"ubuntu"},{"issue_id":"rust_agent_network_observer-35w.5.4","depends_on_id":"rust_agent_network_observer-35w.5.3","type":"blocks","created_at":"2026-01-17T16:00:48.385009588-06:00","created_by":"ubuntu"},{"issue_id":"rust_agent_network_observer-35w.5.4","depends_on_id":"rust_agent_network_observer-35w.5.5","type":"blocks","created_at":"2026-01-17T16:04:45.415856934-06:00","created_by":"ubuntu"}]}
{"id":"rust_agent_network_observer-35w.5.5","title":"E2E: live stats views rotation","description":"Deliverables:\n- E2E script that runs stats views (provider/domain/port/process) and captures output.\n- Use shared e2e harness/log format.\n- Log file must include: view sequence, sample outputs, and any rendering warnings.\n","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-17T16:04:02.895929216-06:00","created_by":"ubuntu","updated_at":"2026-01-17T16:06:56.71730884-06:00","dependencies":[{"issue_id":"rust_agent_network_observer-35w.5.5","depends_on_id":"rust_agent_network_observer-35w.5","type":"parent-child","created_at":"2026-01-17T16:04:02.89717476-06:00","created_by":"ubuntu"},{"issue_id":"rust_agent_network_observer-35w.5.5","depends_on_id":"rust_agent_network_observer-35w.5.3","type":"blocks","created_at":"2026-01-17T16:04:02.899979973-06:00","created_by":"ubuntu"},{"issue_id":"rust_agent_network_observer-35w.5.5","depends_on_id":"rust_agent_network_observer-35w.7","type":"blocks","created_at":"2026-01-17T16:06:02.343091935-06:00","created_by":"ubuntu"}]}
{"id":"rust_agent_network_observer-35w.6","title":"Secondary ideas backlog (documented)","description":"Purpose:\n- Preserve the remaining 25 ideas in a self-contained bead so future work doesn’t need the original plan.\n- These are valuable but lower priority vs the top 5.\n\nIdeas:\n1) Resolver cache with TTL for PTR.\n2) Focus mode for new connections in a time window.\n3) Session replay summary from SQLite.\n4) UDP deduping window to reduce noise.\n5) Ignore localhost/private IP toggles.\n6) Provider confidence indicator.\n7) Process tree display at startup.\n8) Minimal quiet mode.\n9) Full-screen TUI.\n10) CSV/JSON export of stats.\n11) Include/Exclude CIDR filter flags.\n12) Permission diagnostics for /proc issues.\n13) SQLite rotation / retention controls.\n14) `--pid` direct tracking.\n15) macOS/Windows support via native APIs.\n16) Auto-detect terminal width for bars.\n17) SNI mapping decay policy controls.\n18) DoH resolver option.\n19) Replace manual /proc parsing with `procfs` crate.\n20) Summarized exit report (top N, totals).\n21) Live \"last 5 minutes\" window view.\n22) Multi-panel paging + hotkeys.\n23) Per-provider allow/deny lists.\n24) Log JSON schema versioning.\n25) Health check subcommand.\n\nGuidance:\n- Each idea can be promoted to its own feature/task bead when prioritized.\n- Consider grouping by UX, performance, portability.\n","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-17T16:00:48.421314069-06:00","created_by":"ubuntu","updated_at":"2026-01-17T16:00:48.421314069-06:00","dependencies":[{"issue_id":"rust_agent_network_observer-35w.6","depends_on_id":"rust_agent_network_observer-35w","type":"parent-child","created_at":"2026-01-17T16:00:48.422656413-06:00","created_by":"ubuntu"}]}
{"id":"rust_agent_network_observer-35w.7","title":"Test harness + logging standard for E2E","description":"Purpose:\n- Ensure every e2e script has consistent, high-signal logging and reproducible behavior.\n\nDeliverables:\n- Shared e2e runner (shell or Rust) that standardizes log format:\n  - header with timestamp, host, OS, rano version, args\n  - inputs/fixtures summary\n  - expected outputs\n  - actual outputs (truncated with pointers)\n  - pass/fail summary\n- Standard log location convention (e.g., `logs/e2e/\u003ctest-name\u003e-\u003cts\u003e.log`).\n- Helper functions for asserting output (string/regex) with detailed diffs.\n\nNotes:\n- Keep runner minimal; do not require elevated privileges.\n- All e2e beads must depend on this harness.\n","notes":"Added E2E harness: scripts/e2e/run.sh + scripts/e2e/lib.sh with standard log header, log dir logs/e2e/\u003cname\u003e-\u003cts\u003e.log, outputs captured in logs/e2e/outputs. Helpers: e2e_run + assert_status/contains/regex/eq with truncated output and pointers. Added scripts/e2e/README.md. Ran: bash -n scripts/e2e/lib.sh scripts/e2e/run.sh","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-17T16:05:55.459939975-06:00","created_by":"ubuntu","updated_at":"2026-01-17T18:04:11.342481022-06:00","closed_at":"2026-01-17T18:04:11.342481022-06:00","close_reason":"Closed","dependencies":[{"issue_id":"rust_agent_network_observer-35w.7","depends_on_id":"rust_agent_network_observer-35w","type":"parent-child","created_at":"2026-01-17T16:05:55.469979059-06:00","created_by":"ubuntu"}]}
{"id":"rust_agent_network_observer-bca","title":"Add pcap DNS/SNI capture support","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-17T16:59:10.792984936-06:00","created_by":"ubuntu","updated_at":"2026-01-17T16:59:10.792984936-06:00"}
